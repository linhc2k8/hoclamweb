<script type="text/javascript">
	function fib(threshold)
	{
		var sum=0;
		var first = 1;
		var second = 2;
		var next = 3;

		while (next < threshold) {
			next = first + second;
			first = second;
			second = next;
			if (next % 2 == 0) {
				sum = sum + next;
			}
		}
		return sum + 2;
	}

	var sum = fib(4000000);
	alert(sum);
</script>